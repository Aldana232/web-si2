# âœ… VerificaciÃ³n - Workflow de CrÃ©dito

## ðŸŽ¯ QuÃ© DeberÃ­as Ver Paso a Paso

### **PASO 1: Crear Cliente + CrÃ©dito**

**URL:** http://localhost:5173/app/clientes/wizard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸŽ¯ Wizard de Cliente + CrÃ©dito      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Paso 1: Datos Cliente          [âœ“] â”‚
â”‚  Paso 2: DocumentaciÃ³n          [ ] â”‚
â”‚  Paso 3: Trabajo                [ ] â”‚
â”‚  Paso 4: Domicilio              [ ] â”‚
â”‚  Paso 5: Tipo de CrÃ©dito        [ ] â”‚
â”‚  Paso 6: Crear CrÃ©dito          [ ] â”‚
â”‚                                     â”‚
â”‚  Formulario:                        â”‚
â”‚  - Nombre: [____________]           â”‚
â”‚  - Apellido: [____________]         â”‚
â”‚  - TelÃ©fono: [____________]         â”‚
â”‚                                     â”‚
â”‚                    [â† AtrÃ¡s] [Next â†’â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Completa todos los 6 pasos**

---

### **PASO 2: CrÃ©dito Creado - Banner**

**URL:** http://localhost:5173/app/creditos

**DeberÃ­as VER:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PÃGINA DE CRÃ‰DITOS                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ðŸŽ‰ Â¡CrÃ©dito creado exitosamente!                   â”‚ â”‚
â”‚  â”‚  CrÃ©dito #123 - Juan PÃ©rez â€¢ $10,000 USD            â”‚ â”‚
â”‚  â”‚                          [â–¶ï¸ Continuar Workflow]     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ Total: 5 â”‚Aprobados:â”‚ En Proceso:â”‚Rechazadosâ”‚            â”‚
â”‚  â”‚ CrÃ©ditos â”‚  2       â”‚   3       â”‚  0       â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                             â”‚
â”‚  [ðŸ”„ Actualizar Lista] [ðŸ” Buscar]  [ðŸ‘ï¸ Ver Todos]        â”‚
â”‚                                                             â”‚
â”‚  TABLA DE CRÃ‰DITOS:                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ID  â”‚ Cliente  â”‚ Monto   â”‚ Estado   â”‚ Acciones    â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ 123 â”‚ Juan P.  â”‚ $10,000 â”‚SOLICITADOâ”‚ [Ver] [Editarâ”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Si NO ves el banner azul:**
- âŒ El crÃ©dito no se creÃ³ exitosamente (revisa logs)
- âŒ No se pudo obtener la lista de crÃ©ditos
- âŒ El redirect no funcionÃ³

---

### **PASO 3: Click en "â–¶ï¸ Continuar Workflow"**

**URL:** http://localhost:5173/app/creditos/123/workflow

**DeberÃ­as VER:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ðŸ’³ WORKFLOW DEL CRÃ‰DITO #123                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ðŸ’³ CrÃ©dito #123                           $10,000 USD     â”‚
â”‚  Cliente ID: 5                                              â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ðŸŽ¯ FASE ACTUAL                                       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  ðŸ“‹ Datos de la solicitud                            â”‚ â”‚
â”‚  â”‚  Progreso: 12.5% (1 de 8 fases)                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ðŸ“Š PROGRESO DEL FLUJO                               â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â‘  âœ“ Datos de la solicitud      [COMPLETADO]        â”‚ â”‚
â”‚  â”‚ â‘¡ ðŸ”µ DocumentaciÃ³n personal    [EN PROGRESO]       â”‚ â”‚
â”‚  â”‚ â‘¢ âšª InformaciÃ³n laboral        [BLOQUEADO]         â”‚ â”‚
â”‚  â”‚ â‘£ âšª Domicilio                  [BLOQUEADO]         â”‚ â”‚
â”‚  â”‚ â‘¤ âšª Datos del garante         [BLOQUEADO]         â”‚ â”‚
â”‚  â”‚ â‘¥ âšª RevisiÃ³n y aprobaciÃ³n      [BLOQUEADO]         â”‚ â”‚
â”‚  â”‚ â‘¦ âšª Desembolso del crÃ©dito     [BLOQUEADO]         â”‚ â”‚
â”‚  â”‚ â‘§ âšª CrÃ©dito finalizado        [BLOQUEADO]         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ðŸ“‹ DATOS RECOPILADOS                                â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Monto Solicitado: $10,000                           â”‚ â”‚
â”‚  â”‚ Tasa de InterÃ©s: 10.5%                              â”‚ â”‚
â”‚  â”‚ Plazo: 12 meses                                     â”‚ â”‚
â”‚  â”‚ Moneda: USD                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚               [â† Volver]        [â–¶ï¸ Continuar Workflow]    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… Checklist de VerificaciÃ³n

### **Backend**
- [ ] `python setup_sistema.py` ejecutado sin errores
- [ ] `python manage.py runserver 8000` corriendo
- [ ] Logs muestran: `Starting development server...`

### **Frontend**
- [ ] `npm run dev` corriendo
- [ ] Logs muestran: `Local: http://localhost:5173/`
- [ ] No hay errores en la consola (F12)

### **Login**
- [ ] Login exitoso con usuario1/usuario123
- [ ] Dashboard visible

### **Crear CrÃ©dito**
- [ ] Wizard de 6 pasos accesible
- [ ] Cada paso acepta datos
- [ ] Paso 5 muestra tipos de crÃ©dito (al menos 4)
- [ ] Click en "Solicitar CrÃ©dito" en Paso 6
- [ ] RedirecciÃ³n a `/app/creditos` (sin error)

### **Ver Workflow**
- [ ] âœ… Banner azul "Â¡CrÃ©dito creado exitosamente!" visible
- [ ] âœ… BotÃ³n "â–¶ï¸ Continuar Workflow" presente
- [ ] âœ… Click abre `/app/creditos/{id}/workflow`
- [ ] âœ… PÃ¡gina muestra:
  - [ ] ID del crÃ©dito
  - [ ] Monto solicitado
  - [ ] ðŸ“‹ FASE ACTUAL (Datos de la solicitud)
  - [ ] Progreso: 12.5%
  - [ ] ðŸ“Š 8 fases con checkmarks verdes/azules/grises
  - [ ] Datos recopilados (Monto, Tasa, Plazo, Moneda)

---

## ðŸ› Si NO Ves el Banner

### **Problema 1: No ves el banner azul**

**Causas posibles:**
1. El crÃ©dito NO se creÃ³ (revisa logs del backend)
2. El redirect no funcionÃ³ (historial no recargÃ³)
3. El backend devuelve error 500

**SoluciÃ³n:**
```powershell
# Terminal 1 (Backend)
# Revisa los logs para ver si hay errores

# En otra terminal, prueba crear tipo de crÃ©dito directamente
curl -X GET http://127.0.0.1:8000/api/Creditos/test/tipos/ \
  -H "Authorization: Token TU_TOKEN"
```

### **Problema 2: El banner aparece pero botÃ³n no funciona**

**Causas posibles:**
1. El ID del crÃ©dito es 0 o invÃ¡lido
2. La ruta `/app/creditos/{id}/workflow` no existe
3. El componente CreditoWorkflowVisor no renderiza

**SoluciÃ³n:**
```
1. Revisa en DevTools (F12) â†’ Network
2. Busca llamadas a `/api/creditos/`
3. Verifica que devuelva `id` y `Monto_Solicitado`
4. Click en botÃ³n y revisa URL en direcciÃ³nn
```

### **Problema 3: PÃ¡gina en blanco o error 404**

**Causas posibles:**
1. CreditoWorkflowVisor no estÃ¡ importado en main.tsx
2. Ruta no estÃ¡ configurada
3. getCreditoById() falla

**SoluciÃ³n:**
```powershell
# Verifica en DevTools Console
# DeberÃ­as ver:
# ðŸ“¤ [CREDITOS] GET /api/creditos/123/
# âœ… [CREDITOS] CrÃ©dito obtenido...
```

---

## ðŸ” CÃ³mo Verificar en DevTools

### **Console (F12)**
```javascript
// Ver crÃ©ditos en memoria
console.log('Ver historial')

// Hacer peticiÃ³n directa
fetch('/api/Creditos/creditos/', {
  headers: { 'Authorization': 'Token TU_TOKEN' }
})
.then(r => r.json())
.then(d => console.log(d))
```

### **Network Tab**
```
1. Crear crÃ©dito â†’ busca POST /api/Creditos/creditos/
   - Status: 201 (OK)
   - Response: JSON con id del crÃ©dito

2. Recargar pÃ¡gina â†’ busca GET /api/Creditos/creditos/
   - Status: 200 (OK)
   - Response: Array con crÃ©ditos
```

---

## âœ¨ Todo Debe Funcionar

Si seguiste los pasos:

1. âœ… **Setup:** `python setup_sistema.py`
2. âœ… **Backend:** `python manage.py runserver 8000`
3. âœ… **Frontend:** `npm run dev`
4. âœ… **Login:** usuario1 / usuario123
5. âœ… **Crear crÃ©dito:** 6 pasos
6. âœ… **Ver workflow:** Banner + botÃ³n + pÃ¡gina

DeberÃ­as ver **EXACTAMENTE** lo que se muestra arriba.

Si no lo ves, **revisa los logs** de backend y frontend. ðŸ”§

